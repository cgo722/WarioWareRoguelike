[gd_scene load_steps=15 format=3 uid="uid://c0ytsq1nwm6qk"]

[ext_resource type="Script" path="res://Scripts/Tag/Tag_AI.gd" id="1_sjrgg"]
[ext_resource type="PackedScene" uid="uid://cvfyfp77fw3yf" path="res://Assets/Tag/RoseBud.glb" id="2_rc0b5"]
[ext_resource type="Shader" uid="uid://7gcbwkd3kxd3" path="res://Assets/CelShader.tres" id="3_31y6b"]
[ext_resource type="Texture2D" uid="uid://qn0c3w4ard63" path="res://Assets/Tag/RoseBud_AO Map.png" id="4_g2h73"]
[ext_resource type="Texture2D" uid="uid://dn8m7tq4fpp57" path="res://Assets/Tag/RoseBudColor.png" id="5_f8w27"]

[sub_resource type="BoxShape3D" id="BoxShape3D_lkpu6"]
size = Vector3(1.42, 2.53, 1.54)

[sub_resource type="Gradient" id="Gradient_k6egm"]
colors = PackedColorArray(0.0201307, 0.0028826, 0.0699344, 1, 0.232645, 0.0735695, 0.448291, 1)

[sub_resource type="GradientTexture1D" id="GradientTexture1D_5p858"]
gradient = SubResource("Gradient_k6egm")

[sub_resource type="ShaderMaterial" id="ShaderMaterial_lqwih"]
render_priority = 0
shader = ExtResource("3_31y6b")
shader_parameter/scaling = Vector2(1, 1)
shader_parameter/Roughness_Strength = 0.4
shader_parameter/Light_Intesity = Vector3(0.5, 0, 0)
shader_parameter/Specular_Min = 10.0
shader_parameter/Specular_Max = 25.0
shader_parameter/Color_Map = ExtResource("5_f8w27")
shader_parameter/hue = SubResource("GradientTexture1D_5p858")
shader_parameter/AO_Map = ExtResource("4_g2h73")

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_2phkw"]
animation = &"Falling"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_26117"]
animation = &"Run_001"

[sub_resource type="AnimationNodeBlend2" id="AnimationNodeBlend2_qaxt1"]

[sub_resource type="AnimationNodeBlendTree" id="AnimationNodeBlendTree_62qhh"]
graph_offset = Vector2(-308.16, 50.88)
nodes/Animation/node = SubResource("AnimationNodeAnimation_26117")
nodes/Animation/position = Vector2(-151.44, 100)
"nodes/Animation 2/node" = SubResource("AnimationNodeAnimation_2phkw")
"nodes/Animation 2/position" = Vector2(-160, 220)
nodes/Blend2/node = SubResource("AnimationNodeBlend2_qaxt1")
nodes/Blend2/position = Vector2(260, 100)
nodes/output/position = Vector2(540, 110)
node_connections = [&"Blend2", 0, &"Animation", &"Blend2", 1, &"Animation 2", &"output", 0, &"Blend2"]

[sub_resource type="BoxShape3D" id="BoxShape3D_dtiad"]
size = Vector3(1.585, 2.307, 1.611)

[node name="TagAi" type="CharacterBody3D"]
script = ExtResource("1_sjrgg")

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.23643, 0)
shape = SubResource("BoxShape3D_lkpu6")

[node name="RoseBud" parent="CollisionShape3D" instance=ExtResource("2_rc0b5")]
transform = Transform3D(1.5, 0, 0, 0, 1.5, 0, 0, 0, 1.5, 2.08165e-12, 0.382956, -0.113058)

[node name="Skeleton3D" parent="CollisionShape3D/RoseBud/Armature" index="0"]
bones/0/position = Vector3(0, 0.00349618, 0)
bones/4/rotation = Quaternion(-0.00394373, 0.000166503, 0.00981352, 0.999944)
bones/4/scale = Vector3(1.09272, 0.837535, 1.09272)
bones/5/rotation = Quaternion(0.23672, 0.0626334, 0.113901, 0.962843)
bones/6/rotation = Quaternion(0.2625, 0.0469463, 0.238857, 0.933722)
bones/7/rotation = Quaternion(0.193959, 0.147903, 0.0982195, 0.96481)
bones/8/rotation = Quaternion(-0.244533, -0.0298148, -0.139959, 0.959023)
bones/9/rotation = Quaternion(-0.282194, -0.0238032, -0.0374552, 0.95833)
bones/10/rotation = Quaternion(-0.327356, -0.00559124, -0.107234, 0.93878)
bones/11/rotation = Quaternion(0.10418, 5.13246e-05, -0.270535, 0.957057)
bones/12/rotation = Quaternion(0.208637, -0.0306609, -0.289374, 0.933699)
bones/13/rotation = Quaternion(0.0913897, -0.0429577, -0.220398, 0.970169)
bones/14/rotation = Quaternion(-0.111146, -0.0505684, 0.231576, 0.965123)
bones/15/rotation = Quaternion(-0.198067, -0.0280468, 0.331179, 0.922119)
bones/16/rotation = Quaternion(0.0752992, -0.120724, 0.133897, 0.980728)
bones/21/rotation = Quaternion(0.026875, -0.192932, -0.433285, 0.879954)
bones/22/rotation = Quaternion(-0.0710873, 0.160491, 0.894173, -0.411879)
bones/23/rotation = Quaternion(-0.0727815, 0.00205446, 0.129243, 0.988936)
bones/23/scale = Vector3(1, 1, 1)
bones/24/position = Vector3(-0.260302, 1.36675, -0.145874)
bones/24/rotation = Quaternion(0.598229, 0.292055, 0.02603, 0.745754)
bones/25/rotation = Quaternion(-0.165816, -0.061977, 0.231335, 0.956634)
bones/25/scale = Vector3(1.09947, 0.827387, 1.09947)
bones/26/rotation = Quaternion(-0.485672, 0.00718461, 0.421517, 0.765764)
bones/26/scale = Vector3(0.997129, 1.00646, 0.997129)
bones/27/position = Vector3(-0.720168, 1.83586, 0.554807)
bones/27/rotation = Quaternion(0.253851, 0.0160994, 0.00422588, 0.9671)
bones/28/position = Vector3(-0.36019, 1.89015, 1.21209)
bones/28/rotation = Quaternion(0.575189, 0.173455, 0.124045, 0.789736)
bones/29/rotation = Quaternion(-0.163373, -0.0139378, -0.25792, 0.952151)
bones/29/scale = Vector3(0.695881, 2.06526, 0.695881)
bones/30/rotation = Quaternion(-0.0481624, -0.131433, -0.144953, 0.979487)
bones/30/scale = Vector3(0.736204, 1.84546, 0.736204)
bones/31/position = Vector3(-0.0187097, 2.67743, 2.00934)
bones/31/rotation = Quaternion(0.494083, 0.182865, 0.107154, 0.843185)
bones/32/position = Vector3(-0.19068, 2.2487, 1.93562)
bones/32/rotation = Quaternion(0.167969, 0.165142, 0.118507, 0.964609)
bones/33/rotation = Quaternion(-0.222082, -0.155472, 0.317032, 0.908845)
bones/34/rotation = Quaternion(-0.197696, -0.11058, 0.835841, 0.500058)
bones/35/rotation = Quaternion(-0.202665, 0.0172297, -0.274107, 0.939945)
bones/35/scale = Vector3(0.87473, 1.30699, 0.874731)
bones/36/position = Vector3(0.665814, 1.40518, -0.51144)
bones/36/rotation = Quaternion(-0.473245, 0.295506, -0.37162, 0.742034)
bones/37/rotation = Quaternion(0.16404, 0.0827316, -0.380653, 0.906283)
bones/37/scale = Vector3(1.15698, 0.747868, 1.15698)
bones/38/rotation = Quaternion(0.360459, -0.169971, -0.648049, 0.649008)
bones/38/scale = Vector3(0.905009, 1.22099, 0.905009)
bones/39/position = Vector3(1.49601, 1.27189, -1.52218)
bones/39/rotation = Quaternion(0.867522, 0.303172, 0.289013, -0.268263)
bones/40/rotation = Quaternion(-0.0667572, 0.0136911, 0.15803, 0.98508)
bones/40/scale = Vector3(0.887225, 1.4851, 0.887225)
bones/41/rotation = Quaternion(-0.313244, 0.179473, 0.557789, 0.747355)
bones/41/scale = Vector3(0.822254, 1.47912, 0.822254)
bones/42/position = Vector3(1.86428, 0.54418, -1.86725)
bones/42/rotation = Quaternion(-0.635665, 0.00564987, -0.416538, 0.649919)
bones/43/position = Vector3(1.57313, 1.3042, -0.755895)
bones/43/rotation = Quaternion(0.588538, 0.0136252, 0.790246, -0.170144)
bones/44/position = Vector3(1.29542, 0.832856, -1.83994)
bones/44/rotation = Quaternion(-0.681416, 0.311244, 0.00280545, 0.662414)
bones/45/position = Vector3(-0.0509324, 5.99081, -0.0204582)
bones/49/rotation = Quaternion(-0.269547, 3.09478e-08, 0.962987, 4.29454e-16)
bones/50/position = Vector3(-0.406057, 1.07711, -0.407629)
bones/51/position = Vector3(0.435766, 1.07711, 0.309426)

[node name="Sphere_029" parent="CollisionShape3D/RoseBud/Armature/Skeleton3D" index="0"]
surface_material_override/0 = SubResource("ShaderMaterial_lqwih")

[node name="AnimationTree" type="AnimationTree" parent="CollisionShape3D/RoseBud"]
tree_root = SubResource("AnimationNodeBlendTree_62qhh")
anim_player = NodePath("../AnimationPlayer")
parameters/Blend2/blend_amount = 0.0

[node name="Area3D" type="Area3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.11764, 0)
collision_layer = 3
collision_mask = 2

[node name="CollisionShape3D2" type="CollisionShape3D" parent="Area3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2.08165e-12, 0.477209, 2.08165e-12)
shape = SubResource("BoxShape3D_dtiad")

[node name="Timer" type="Timer" parent="."]
wait_time = 2.5
autostart = true

[connection signal="body_entered" from="Area3D" to="." method="_on_area_3d_body_entered"]
[connection signal="timeout" from="Timer" to="." method="_on_timer_timeout"]

[editable path="CollisionShape3D/RoseBud"]
