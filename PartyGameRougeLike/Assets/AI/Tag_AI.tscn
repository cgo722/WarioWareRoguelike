[gd_scene load_steps=16 format=3 uid="uid://c0ytsq1nwm6qk"]

[ext_resource type="Script" path="res://Scripts/Tag/Tag_AI.gd" id="1_sjrgg"]
[ext_resource type="PackedScene" uid="uid://cvfyfp77fw3yf" path="res://Assets/Tag/RoseBud.glb" id="2_rc0b5"]
[ext_resource type="Shader" uid="uid://7gcbwkd3kxd3" path="res://Assets/CelShader.tres" id="3_31y6b"]
[ext_resource type="Texture2D" uid="uid://qn0c3w4ard63" path="res://Assets/Tag/RoseBud_AO Map.png" id="4_g2h73"]
[ext_resource type="Texture2D" uid="uid://dn8m7tq4fpp57" path="res://Assets/Tag/RoseBudColor.png" id="5_f8w27"]
[ext_resource type="Texture2D" uid="uid://cmh2s63n5dkar" path="res://Assets/Materials/TribandColor.tres" id="6_2slko"]

[sub_resource type="BoxShape3D" id="BoxShape3D_lkpu6"]
size = Vector3(1.42, 2.53, 1.54)

[sub_resource type="Gradient" id="Gradient_k6egm"]
offsets = PackedFloat32Array(0)
colors = PackedColorArray(0.0201307, 0.0028826, 0.0699344, 1)

[sub_resource type="GradientTexture1D" id="GradientTexture1D_5p858"]
gradient = SubResource("Gradient_k6egm")

[sub_resource type="ShaderMaterial" id="ShaderMaterial_lqwih"]
render_priority = 0
shader = ExtResource("3_31y6b")
shader_parameter/scaling = Vector2(1, 1)
shader_parameter/Roughness_Strength = 0.4
shader_parameter/Shadow_Hardness_Min = 0.5
shader_parameter/Shadow_Hardness_Max = 1.0
shader_parameter/Color_Map = ExtResource("5_f8w27")
shader_parameter/hue = SubResource("GradientTexture1D_5p858")
shader_parameter/AO_Map = ExtResource("4_g2h73")
shader_parameter/Light_Map = ExtResource("6_2slko")

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_2phkw"]
animation = &"Falling"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_26117"]
animation = &"Run_001"

[sub_resource type="AnimationNodeBlend2" id="AnimationNodeBlend2_qaxt1"]

[sub_resource type="AnimationNodeBlendTree" id="AnimationNodeBlendTree_62qhh"]
graph_offset = Vector2(-308.16, 50.88)
nodes/Animation/node = SubResource("AnimationNodeAnimation_26117")
nodes/Animation/position = Vector2(-151.44, 100)
"nodes/Animation 2/node" = SubResource("AnimationNodeAnimation_2phkw")
"nodes/Animation 2/position" = Vector2(-160, 220)
nodes/Blend2/node = SubResource("AnimationNodeBlend2_qaxt1")
nodes/Blend2/position = Vector2(260, 100)
nodes/output/position = Vector2(540, 110)
node_connections = [&"Blend2", 0, &"Animation", &"Blend2", 1, &"Animation 2", &"output", 0, &"Blend2"]

[sub_resource type="BoxShape3D" id="BoxShape3D_dtiad"]
size = Vector3(1.585, 2.307, 1.611)

[node name="TagAi" type="CharacterBody3D"]
script = ExtResource("1_sjrgg")

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.23643, 0)
shape = SubResource("BoxShape3D_lkpu6")

[node name="RoseBud" parent="CollisionShape3D" instance=ExtResource("2_rc0b5")]
transform = Transform3D(1.5, 0, 0, 0, 1.5, 0, 0, 0, 1.5, 2.08165e-12, 0.382956, -0.113058)

[node name="Skeleton3D" parent="CollisionShape3D/RoseBud/Armature" index="0"]
bones/0/position = Vector3(0, -0.0459486, 0)
bones/0/rotation = Quaternion(0, 0, 0, 1)
bones/4/rotation = Quaternion(-0.00394371, 0.000166503, 0.00981347, 0.999944)
bones/4/scale = Vector3(1.10753, 0.81598, 1.10753)
bones/5/rotation = Quaternion(0.237713, 0.0626141, 0.114412, 0.962539)
bones/6/rotation = Quaternion(0.245128, 0.0483828, 0.226745, 0.94136)
bones/7/rotation = Quaternion(0.182716, 0.149374, 0.087493, 0.967805)
bones/8/rotation = Quaternion(-0.24522, -0.0291799, -0.139341, 0.958958)
bones/9/rotation = Quaternion(-0.265149, -0.0241095, -0.0332244, 0.963333)
bones/10/rotation = Quaternion(-0.314104, -0.00600926, -0.104009, 0.943655)
bones/11/rotation = Quaternion(0.105119, -0.000670904, -0.27023, 0.95704)
bones/12/rotation = Quaternion(0.197836, -0.0308779, -0.272207, 0.941175)
bones/13/rotation = Quaternion(0.0852973, -0.042851, -0.208352, 0.973385)
bones/14/rotation = Quaternion(-0.112087, -0.0502429, 0.234444, 0.964338)
bones/15/rotation = Quaternion(-0.190932, -0.0266981, 0.312724, 0.930073)
bones/16/rotation = Quaternion(0.0773315, -0.119549, 0.119194, 0.982609)
bones/21/rotation = Quaternion(-0.0484188, -0.0765847, -0.356403, 0.929929)
bones/22/rotation = Quaternion(-0.0357871, 0.0414697, 0.934506, -0.351707)
bones/23/rotation = Quaternion(-0.00883353, 0.00409386, 0.0431125, 0.999023)
bones/23/scale = Vector3(0.911253, 1.2043, 0.911253)
bones/24/position = Vector3(-0.105564, 1.61453, -0.0211605)
bones/24/rotation = Quaternion(-0.47743, 0.515423, 0.199502, 0.68308)
bones/25/rotation = Quaternion(-0.109546, -0.0564049, 0.248947, 0.960647)
bones/25/scale = Vector3(1.01035, 0.98227, 1.01035)
bones/26/rotation = Quaternion(-0.401503, -0.0348078, 0.278025, 0.871944)
bones/26/scale = Vector3(0.741611, 1.8184, 0.741611)
bones/27/position = Vector3(-1.75156, 1.47674, -0.0218919)
bones/27/rotation = Quaternion(-0.306207, 0.425185, 0.341194, 0.780411)
bones/28/position = Vector3(-1.63699, 2.19633, -0.21031)
bones/28/rotation = Quaternion(0.796554, -0.591224, -0.0388393, -0.120199)
bones/29/rotation = Quaternion(0.0788022, -0.0137134, -0.0904575, 0.992683)
bones/29/scale = Vector3(0.693899, 2.08347, 0.693899)
bones/30/rotation = Quaternion(-0.0674755, -0.0976503, 0.0167576, 0.992789)
bones/30/scale = Vector3(0.670393, 2.22622, 0.670393)
bones/31/position = Vector3(-2.68401, 1.74046, -0.583634)
bones/31/rotation = Quaternion(-0.122108, 0.657046, 0.200812, 0.716278)
bones/32/position = Vector3(-2.56375, 1.92132, -0.236821)
bones/32/rotation = Quaternion(-0.393838, 0.544861, 0.371989, 0.640033)
bones/33/rotation = Quaternion(-0.150793, -0.071565, 0.288464, 0.94283)
bones/34/rotation = Quaternion(-0.178091, -0.0089827, 0.903497, 0.389738)
bones/35/rotation = Quaternion(0.0741027, -0.0219473, -0.0767787, 0.994048)
bones/35/scale = Vector3(0.764442, 1.71134, 0.764442)
bones/36/position = Vector3(0.256159, 2.07572, 0.258836)
bones/36/rotation = Quaternion(0.295132, 0.181671, 0.330979, 0.877694)
bones/37/rotation = Quaternion(0.194756, 0.0473, 0.280071, 0.938826)
bones/37/scale = Vector3(0.930399, 1.15656, 0.930399)
bones/38/rotation = Quaternion(0.532034, -0.183229, 0.0533478, 0.824937)
bones/38/scale = Vector3(0.834546, 1.43695, 0.834546)
bones/39/position = Vector3(-0.735932, 2.33782, 1.78925)
bones/39/rotation = Quaternion(0.86476, -0.32158, 0.0174957, 0.385319)
bones/40/rotation = Quaternion(-0.0238724, 0.000680495, 0.036176, 0.99906)
bones/40/scale = Vector3(0.694213, 2.10612, 0.694213)
bones/41/rotation = Quaternion(0.0245442, -0.00579325, 0.0148203, 0.999572)
bones/41/scale = Vector3(0.650774, 2.39358, 0.650773)
bones/42/position = Vector3(-1.46898, 1.81153, 2.58837)
bones/42/rotation = Quaternion(0.853719, -0.163057, 0.450086, 0.204937)
bones/43/position = Vector3(0.0381309, 2.12094, 1.54616)
bones/43/rotation = Quaternion(0.427034, 0.239222, 0.376345, 0.786625)
bones/44/position = Vector3(-1.34271, 1.80944, 2.42382)
bones/44/rotation = Quaternion(0.635197, -0.603699, 0.40613, 0.259095)
bones/45/position = Vector3(-0.0509324, 5.87272, -0.0204582)
bones/46/position = Vector3(-0.610779, 3.79643, 1.43108)
bones/46/rotation = Quaternion(0.787491, 2.18729e-15, 0.616326, -3.78446e-08)
bones/47/position = Vector3(0.741019, 3.81247, -1.56974)
bones/47/rotation = Quaternion(0.946261, 3.5687e-16, 0.323403, -3.14948e-08)
bones/48/position = Vector3(1.48951, 3.77898, 0.764447)
bones/48/rotation = Quaternion(-0.43926, 3.31741e-08, 0.89836, -5.8952e-16)
bones/49/position = Vector3(-1.44038, 3.82986, -0.780353)
bones/49/rotation = Quaternion(-0.269547, 3.09478e-08, 0.962987, 4.29454e-16)
bones/50/position = Vector3(-0.406057, 1.07711, -0.194755)
bones/50/rotation = Quaternion(-0.199218, 0.66363, 0.695542, -0.190078)
bones/51/position = Vector3(0.435766, 1.07711, 0.0720317)
bones/51/rotation = Quaternion(-0.199218, 0.66363, 0.695542, -0.190078)

[node name="Sphere_029" parent="CollisionShape3D/RoseBud/Armature/Skeleton3D" index="0"]
lod_bias = 0.05
surface_material_override/0 = SubResource("ShaderMaterial_lqwih")

[node name="AnimationTree" type="AnimationTree" parent="CollisionShape3D/RoseBud"]
tree_root = SubResource("AnimationNodeBlendTree_62qhh")
anim_player = NodePath("../AnimationPlayer")
parameters/Blend2/blend_amount = 0.0

[node name="Area3D" type="Area3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.11764, 0)
collision_layer = 3
collision_mask = 2

[node name="CollisionShape3D2" type="CollisionShape3D" parent="Area3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2.08165e-12, 0.477209, 2.08165e-12)
shape = SubResource("BoxShape3D_dtiad")

[node name="Timer" type="Timer" parent="."]
wait_time = 2.5
autostart = true

[connection signal="body_entered" from="Area3D" to="." method="_on_area_3d_body_entered"]
[connection signal="timeout" from="Timer" to="." method="_on_timer_timeout"]

[editable path="CollisionShape3D/RoseBud"]
