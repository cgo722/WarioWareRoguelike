[gd_scene load_steps=17 format=3 uid="uid://c0ytsq1nwm6qk"]

[ext_resource type="Script" path="res://Scripts/Tag/Tag_AI.gd" id="1_sjrgg"]
[ext_resource type="PackedScene" uid="uid://dsdbiq4udlq88" path="res://Assets/Particle FX/Puff of light.tscn" id="2_ip26p"]
[ext_resource type="PackedScene" uid="uid://cvfyfp77fw3yf" path="res://Assets/Tag/RoseBud.glb" id="2_rc0b5"]
[ext_resource type="Shader" uid="uid://7gcbwkd3kxd3" path="res://Assets/CelShader.tres" id="3_31y6b"]
[ext_resource type="Texture2D" uid="uid://qn0c3w4ard63" path="res://Assets/Tag/RoseBud_AO Map.png" id="4_g2h73"]
[ext_resource type="Texture2D" uid="uid://dn8m7tq4fpp57" path="res://Assets/Tag/RoseBudColor.png" id="5_f8w27"]
[ext_resource type="Texture2D" uid="uid://cmh2s63n5dkar" path="res://Assets/Materials/TribandColor.tres" id="6_2slko"]

[sub_resource type="BoxShape3D" id="BoxShape3D_lkpu6"]
size = Vector3(1.42, 2.53, 1.54)

[sub_resource type="Gradient" id="Gradient_k6egm"]
offsets = PackedFloat32Array(0)
colors = PackedColorArray(0.0201307, 0.0028826, 0.0699344, 1)

[sub_resource type="GradientTexture1D" id="GradientTexture1D_5p858"]
gradient = SubResource("Gradient_k6egm")

[sub_resource type="ShaderMaterial" id="ShaderMaterial_lqwih"]
render_priority = 0
shader = ExtResource("3_31y6b")
shader_parameter/scaling = Vector2(1, 1)
shader_parameter/Roughness_Strength = 0.4
shader_parameter/Shadow_Hardness_Min = 0.5
shader_parameter/Shadow_Hardness_Max = 1.0
shader_parameter/Color_Map = ExtResource("5_f8w27")
shader_parameter/hue = SubResource("GradientTexture1D_5p858")
shader_parameter/AO_Map = ExtResource("4_g2h73")
shader_parameter/Light_Map = ExtResource("6_2slko")

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_2phkw"]
animation = &"Falling"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_26117"]
animation = &"Run_001"

[sub_resource type="AnimationNodeBlend2" id="AnimationNodeBlend2_qaxt1"]

[sub_resource type="AnimationNodeBlendTree" id="AnimationNodeBlendTree_62qhh"]
graph_offset = Vector2(-308.16, 50.88)
nodes/Animation/node = SubResource("AnimationNodeAnimation_26117")
nodes/Animation/position = Vector2(-151.44, 100)
"nodes/Animation 2/node" = SubResource("AnimationNodeAnimation_2phkw")
"nodes/Animation 2/position" = Vector2(-160, 220)
nodes/Blend2/node = SubResource("AnimationNodeBlend2_qaxt1")
nodes/Blend2/position = Vector2(260, 100)
nodes/output/position = Vector2(540, 110)
node_connections = [&"Blend2", 0, &"Animation", &"Blend2", 1, &"Animation 2", &"output", 0, &"Blend2"]

[sub_resource type="BoxShape3D" id="BoxShape3D_dtiad"]
size = Vector3(1.585, 2.307, 1.611)

[node name="TagAi" type="CharacterBody3D"]
script = ExtResource("1_sjrgg")
puffFX = ExtResource("2_ip26p")

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.23643, 0)
shape = SubResource("BoxShape3D_lkpu6")

[node name="RoseBud" parent="CollisionShape3D" instance=ExtResource("2_rc0b5")]
transform = Transform3D(1.5, 0, 0, 0, 1.5, 0, 0, 0, 1.5, 2.08165e-12, 0.382956, -0.113058)

[node name="Skeleton3D" parent="CollisionShape3D/RoseBud/Armature" index="0"]
bones/0/position = Vector3(0, -0.0472717, 0)
bones/0/rotation = Quaternion(0, 0, 0, 1)
bones/4/rotation = Quaternion(-0.00391446, 0.000166769, 0.00974067, 0.999945)
bones/4/scale = Vector3(1.10346, 0.821783, 1.10346)
bones/5/rotation = Quaternion(0.237715, 0.062614, 0.114413, 0.962539)
bones/6/rotation = Quaternion(0.244645, 0.0484222, 0.226408, 0.941565)
bones/7/rotation = Quaternion(0.182403, 0.149414, 0.087195, 0.967885)
bones/8/rotation = Quaternion(-0.245256, -0.0291484, -0.139311, 0.958954)
bones/9/rotation = Quaternion(-0.264678, -0.0241182, -0.0331085, 0.963466)
bones/10/rotation = Quaternion(-0.313737, -0.00602084, -0.103919, 0.943787)
bones/11/rotation = Quaternion(0.105166, -0.000706761, -0.270217, 0.957038)
bones/12/rotation = Quaternion(0.197535, -0.0308833, -0.271731, 0.941376)
bones/13/rotation = Quaternion(0.0851279, -0.0428479, -0.208017, 0.973471)
bones/14/rotation = Quaternion(-0.112119, -0.0502336, 0.234536, 0.964313)
bones/15/rotation = Quaternion(-0.190732, -0.0266606, 0.312209, 0.930288)
bones/16/rotation = Quaternion(0.0773867, -0.119516, 0.118785, 0.982658)
bones/21/rotation = Quaternion(-0.0549791, -0.0663318, -0.352224, 0.931942)
bones/22/rotation = Quaternion(-0.03234, 0.0310412, 0.93671, -0.347224)
bones/23/rotation = Quaternion(-0.00847152, 0.00410526, 0.0426239, 0.999047)
bones/23/scale = Vector3(0.910666, 1.20584, 0.910666)
bones/24/position = Vector3(-0.104512, 1.61622, -0.0203123)
bones/24/rotation = Quaternion(-0.481264, 0.516434, 0.20143, 0.679049)
bones/25/rotation = Quaternion(-0.104318, -0.054694, 0.2401, 0.963576)
bones/25/scale = Vector3(1.00384, 0.99425, 1.00384)
bones/26/rotation = Quaternion(-0.399088, -0.0372797, 0.271269, 0.875072)
bones/26/scale = Vector3(0.740721, 1.82272, 0.740721)
bones/27/position = Vector3(-1.75796, 1.4707, -0.0306683)
bones/27/rotation = Quaternion(-0.30945, 0.427107, 0.342797, 0.777374)
bones/28/position = Vector3(-1.65225, 2.20468, -0.224118)
bones/28/rotation = Quaternion(0.799285, -0.588803, -0.0378457, -0.114118)
bones/29/rotation = Quaternion(0.0874082, -0.0140276, -0.0885747, 0.992128)
bones/29/scale = Vector3(0.689041, 2.11096, 0.689041)
bones/30/rotation = Quaternion(-0.0635694, -0.10006, 0.0107436, 0.99289)
bones/30/scale = Vector3(0.668522, 2.23835, 0.668522)
bones/31/position = Vector3(-2.70809, 1.74072, -0.60745)
bones/31/rotation = Quaternion(-0.126152, 0.65891, 0.201023, 0.713802)
bones/32/position = Vector3(-2.58, 1.91435, -0.252596)
bones/32/rotation = Quaternion(-0.396899, 0.546312, 0.372939, 0.636342)
bones/33/rotation = Quaternion(-0.145445, -0.0637824, 0.288553, 0.944201)
bones/34/rotation = Quaternion(-0.175985, -0.000383692, 0.908022, 0.380165)
bones/35/rotation = Quaternion(0.0764008, -0.0222782, -0.0762598, 0.993907)
bones/35/scale = Vector3(0.763722, 1.71454, 0.763722)
bones/36/position = Vector3(0.254619, 2.07808, 0.267105)
bones/36/rotation = Quaternion(0.30292, 0.176788, 0.33314, 0.875216)
bones/37/rotation = Quaternion(0.194233, 0.0471946, 0.280113, 0.938927)
bones/37/scale = Vector3(0.926489, 1.16594, 0.926489)
bones/38/rotation = Quaternion(0.528207, -0.181468, 0.055275, 0.827654)
bones/38/scale = Vector3(0.831674, 1.44655, 0.831674)
bones/39/position = Vector3(-0.750109, 2.31232, 1.80959)
bones/39/rotation = Quaternion(0.871456, -0.31228, 0.0248757, 0.377395)
bones/40/rotation = Quaternion(-0.0323684, 0.00142327, 0.0398033, 0.998682)
bones/40/scale = Vector3(0.683367, 2.16384, 0.683367)
bones/41/rotation = Quaternion(0.0158384, -0.00695562, 0.0142292, 0.999749)
bones/41/scale = Vector3(0.641081, 2.4565, 0.64108)
bones/42/position = Vector3(-1.49773, 1.76143, 2.6236)
bones/42/rotation = Quaternion(0.855543, -0.164906, 0.450924, 0.193701)
bones/43/position = Vector3(0.0267217, 2.10361, 1.56398)
bones/43/rotation = Quaternion(0.429416, 0.237335, 0.379327, 0.784465)
bones/44/position = Vector3(-1.3621, 1.75754, 2.45647)
bones/44/rotation = Quaternion(0.639364, -0.606254, 0.401786, 0.249476)
bones/45/position = Vector3(-0.0509324, 5.88987, -0.0204582)
bones/46/position = Vector3(-0.610779, 3.79643, 1.43108)
bones/46/rotation = Quaternion(0.787491, 2.18729e-15, 0.616326, -3.78446e-08)
bones/47/position = Vector3(0.741019, 3.81247, -1.56974)
bones/47/rotation = Quaternion(0.946261, 3.5687e-16, 0.323403, -3.14948e-08)
bones/48/position = Vector3(1.48951, 3.77898, 0.764447)
bones/48/rotation = Quaternion(-0.43926, 3.31741e-08, 0.89836, -5.8952e-16)
bones/49/position = Vector3(-1.44038, 3.82986, -0.780353)
bones/49/rotation = Quaternion(-0.269547, 3.09478e-08, 0.962987, 4.29454e-16)
bones/50/position = Vector3(-0.406057, 1.07711, -0.176551)
bones/50/rotation = Quaternion(-0.199218, 0.66363, 0.695542, -0.190078)
bones/51/position = Vector3(0.435766, 1.07711, 0.0517305)
bones/51/rotation = Quaternion(-0.199218, 0.66363, 0.695542, -0.190078)

[node name="Sphere_029" parent="CollisionShape3D/RoseBud/Armature/Skeleton3D" index="0"]
lod_bias = 0.05
surface_material_override/0 = SubResource("ShaderMaterial_lqwih")

[node name="AnimationTree" type="AnimationTree" parent="CollisionShape3D/RoseBud"]
tree_root = SubResource("AnimationNodeBlendTree_62qhh")
anim_player = NodePath("../AnimationPlayer")
parameters/Blend2/blend_amount = 0.0

[node name="Area3D" type="Area3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.11764, 0)
collision_layer = 3
collision_mask = 2

[node name="CollisionShape3D2" type="CollisionShape3D" parent="Area3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2.08165e-12, 0.477209, 2.08165e-12)
shape = SubResource("BoxShape3D_dtiad")

[node name="Timer" type="Timer" parent="."]
wait_time = 2.5
autostart = true

[connection signal="body_entered" from="Area3D" to="." method="_on_area_3d_body_entered"]
[connection signal="timeout" from="Timer" to="." method="_on_timer_timeout"]

[editable path="CollisionShape3D/RoseBud"]
